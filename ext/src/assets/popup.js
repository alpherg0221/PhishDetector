import{v as ee,ab as ne,r as s,h as se,k as ae,ac as ie,_ as d,L as U,K as te,t as re,s as oe,U as $,H as P,ad as D,ae as le,af as ce,ag as de,X as ge,z as me,a0 as K,a4 as i,a5 as ue,a6 as W,a7 as z,ah as he,ai as fe,a1 as xe,a2 as ve,a3 as pe,a9 as Se,aa as we}from"../../assets/utils-CkVopCX_.js";import{T as Be}from"../../assets/Toggle-aDK-ybKF.js";import{u as be}from"../../assets/useBoolean-2ojnhOfj.js";import{I as X,i as ke}from"../../assets/index-BHjqgIG6.js";import{P as ye,D as q}from"../../assets/PrimaryButton-qxZtVyz8.js";var Ne=function(e){ee(r,e);function r(o){var t=e.call(this,o)||this;return t.state={isRendered:ne()===void 0},t}return r.prototype.componentDidMount=function(){var o=this,t=this.props.delay;this._timeoutId=window.setTimeout(function(){o.setState({isRendered:!0})},t)},r.prototype.componentWillUnmount=function(){this._timeoutId&&clearTimeout(this._timeoutId)},r.prototype.render=function(){return this.state.isRendered?s.Children.only(this.props.children):null},r.defaultProps={delay:0},r}(s.Component),n;(function(e){e[e.info=0]="info",e[e.error=1]="error",e[e.blocked=2]="blocked",e[e.severeWarning=3]="severeWarning",e[e.success=4]="success",e[e.warning=5]="warning"})(n||(n={}));var B,Ce=(B={},B[n.info]="Info",B[n.warning]="Info",B[n.error]="ErrorBadge",B[n.blocked]="Blocked2",B[n.severeWarning]="Warning",B[n.success]="Completed",B),Le="MessageBar",Ie=re(),_e=function(e){switch(e){case n.blocked:case n.error:case n.severeWarning:return"assertive"}return"polite"},Me=function(e){switch(e){case n.blocked:case n.error:case n.severeWarning:return"alert"}return"status"},J=s.forwardRef(function(e,r){var o=be(!1),t=o[0],S=o[1].toggle,h=se("MessageBar"),u=e.actions,C=e.className,f=e.children,L=e.overflowButtonAriaLabel,c=e.dismissIconProps,I=e.styles,_=e.theme,E=e.messageBarType,w=E===void 0?n.info:E,M=e.onDismiss,l=M===void 0?void 0:M,j=e.isMultiline,x=j===void 0?!0:j,g=e.truncated,v=e.dismissButtonAriaLabel,T=e.messageBarIconProps,p=e.role,a=e.delayedRender,R=a===void 0?!0:a,A=e.expandButtonProps,O=e.onExpandButtonToggled,H=O===void 0?void 0:O,Q=s.useCallback(function(){S(),H&&H(!t)},[t,H,S]),V=ae(e,ie,["className","role"]),m=Ie(I,{theme:_,messageBarType:w||n.info,onDismiss:l!==void 0,actions:u!==void 0,truncated:g,isMultiline:x,expandSingleLine:t,className:C}),Y={iconName:t?"DoubleChevronUp":"DoubleChevronDown"},Z=u||l?{"aria-describedby":h,role:"region"}:{},F=u?s.createElement("div",{className:m.actions},u):null,G=l?s.createElement(X,{disabled:!1,className:m.dismissal,onClick:l,iconProps:c||{iconName:"Clear"},title:v,ariaLabel:v}):null;return s.createElement("div",d({ref:r,className:m.root},Z),s.createElement("div",{className:m.content},s.createElement("div",{className:m.iconContainer,"aria-hidden":!0},T?s.createElement(U,d({},T,{className:te(m.icon,T.className)})):s.createElement(U,{iconName:Ce[w],className:m.icon})),s.createElement("div",{className:m.text,id:h,role:p||Me(w),"aria-live":_e(w)},s.createElement("span",d({className:m.innerText},V),R?s.createElement(Ne,null,s.createElement("span",null,f)):s.createElement("span",null,f))),!x&&!F&&g&&s.createElement("div",{className:m.expandSingleLine},s.createElement(X,d({disabled:!1,className:m.expand,onClick:Q,iconProps:Y,ariaLabel:L,"aria-expanded":t},A))),!x&&F,!x&&G&&s.createElement("div",{className:m.dismissSingleLine},G),x&&G),x&&F)});J.displayName=Le;var b,k,y,N,Te={root:"ms-MessageBar",error:"ms-MessageBar--error",blocked:"ms-MessageBar--blocked",severeWarning:"ms-MessageBar--severeWarning",success:"ms-MessageBar--success",warning:"ms-MessageBar--warning",multiline:"ms-MessageBar-multiline",singleline:"ms-MessageBar-singleline",dismissalSingleLine:"ms-MessageBar-dismissalSingleLine",expandingSingleLine:"ms-MessageBar-expandingSingleLine",content:"ms-MessageBar-content",iconContainer:"ms-MessageBar-icon",text:"ms-MessageBar-text",innerText:"ms-MessageBar-innerText",dismissSingleLine:"ms-MessageBar-dismissSingleLine",expandSingleLine:"ms-MessageBar-expandSingleLine",dismissal:"ms-MessageBar-dismissal",expand:"ms-MessageBar-expand",actions:"ms-MessageBar-actions",actionsSingleline:"ms-MessageBar-actionsSingleLine"},We=(b={},b[n.error]="errorBackground",b[n.blocked]="errorBackground",b[n.success]="successBackground",b[n.warning]="warningBackground",b[n.severeWarning]="severeWarningBackground",b[n.info]="infoBackground",b),Ee=(k={},k[n.error]="errorIcon",k[n.blocked]="errorIcon",k[n.success]="successIcon",k[n.warning]="warningIcon",k[n.severeWarning]="severeWarningIcon",k[n.info]="infoIcon",k),je=(y={},y[n.error]="#ff0000",y[n.blocked]="#ff0000",y[n.success]="#bad80a",y[n.warning]="#fff100",y[n.severeWarning]="#ff0000",y[n.info]="WindowText",y),Ae=(N={},N[n.error]="#e81123",N[n.blocked]="#e81123",N[n.success]="#107c10",N[n.warning]="#966400",N[n.severeWarning]="#d83b01",N[n.info]="WindowText",N),Pe=function(e){var r,o,t,S,h,u,C,f,L,c,I,_=e.theme,E=e.className,w=e.onDismiss,M=e.truncated,l=e.isMultiline,j=e.expandSingleLine,x=e.messageBarType,g=x===void 0?n.info:x,v=_.semanticColors,T=_.fonts,p=de(0,ge),a=oe(Te,_),R={fontSize:$.xSmall,height:10,lineHeight:"10px",color:v.messageText,selectors:(r={},r[P]=d(d({},D()),{color:"WindowText"}),r)},A=[le(_,{inset:1,highContrastStyle:{outlineOffset:"-6px",outline:"1px solid Highlight"},borderColor:"transparent"}),{flexShrink:0,width:32,height:32,padding:"8px 12px",selectors:{"& .ms-Button-icon":R,":hover":{backgroundColor:"transparent"},":active":{backgroundColor:"transparent"}}}];return{root:[a.root,T.medium,g===n.error&&a.error,g===n.blocked&&a.blocked,g===n.severeWarning&&a.severeWarning,g===n.success&&a.success,g===n.warning&&a.warning,l?a.multiline:a.singleline,!l&&w&&a.dismissalSingleLine,!l&&M&&a.expandingSingleLine,{background:v[We[g]],boxSizing:"border-box",color:v.messageText,minHeight:32,width:"100%",display:"flex",wordBreak:"break-word",selectors:(o={".ms-Link":{color:v.messageLink,selectors:{":hover":{color:v.messageLinkHovered}}}},o[P]=d(d({},D()),{background:"transparent",border:"1px solid ".concat(je[g]),color:"WindowText"}),o[ce]={border:"1px solid ".concat(Ae[g])},o)},l&&{flexDirection:"column"},E],content:[a.content,(t={display:"flex",width:"100%",lineHeight:"normal"},t[p]={display:"grid",gridTemplateColumns:"auto 1fr auto",gridTemplateRows:"1fr auto",gridTemplateAreas:`
            "icon text close"
            "action action action"
          `},t)],iconContainer:[a.iconContainer,(S={fontSize:$.medium,minWidth:16,minHeight:16,display:"flex",flexShrink:0,margin:"8px 0 8px 12px"},S[p]={gridArea:"icon"},S)],icon:{color:v[Ee[g]],selectors:(h={},h[P]=d(d({},D()),{color:"WindowText"}),h)},text:[a.text,d(d({minWidth:0,display:"flex",flexGrow:1,margin:8},T.small),(u={},u[p]={gridArea:"text"},u.selectors=(C={},C[P]=d({},D()),C),u)),!w&&{marginRight:12}],innerText:[a.innerText,{lineHeight:16,selectors:{"& span a:last-child":{paddingLeft:4}}},M&&{overflow:"visible",whiteSpace:"pre-wrap"},!l&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},!l&&!M&&{selectors:(f={},f[p]={overflow:"visible",whiteSpace:"pre-wrap"},f)},j&&{overflow:"visible",whiteSpace:"pre-wrap"}],dismissSingleLine:[a.dismissSingleLine,(L={},L[p]={gridArea:"close"},L)],expandSingleLine:a.expandSingleLine,dismissal:[a.dismissal,A],expand:[a.expand,A],actions:[l?a.actions:a.actionsSingleline,(c={display:"flex",flexGrow:0,flexShrink:0,flexBasis:"auto",flexDirection:"row-reverse",alignItems:"center",margin:"0 12px 0 8px",forcedColorAdjust:"auto",MsHighContrastAdjust:"auto"},c[p]={gridArea:"action",marginRight:8,marginBottom:8},c.selectors={"& button:nth-child(n+2)":(I={marginLeft:8},I[p]={marginBottom:0},I)},c),l&&{marginBottom:8},w&&!l&&{marginRight:0}]}},De=me(J,Pe,void 0,{scope:"MessageBar"});const ze=()=>{const e=window.navigator.language==="en",[r,o]=s.useState(!1),[t,S]=s.useState(""),[h,u]=s.useState({}),[C,f]=s.useState(!1),L=async()=>{await xe("FN",h),await ve(pe.Block,h.url),f(!0)};return s.useEffect(()=>{K().then(c=>o(c)),chrome.runtime.sendMessage({type:"detection"}).then(c=>{S(c.resFlag),u(c)})},[]),i.jsx(i.Fragment,{children:i.jsx(ue,{style:{minHeight:"100vh",display:"grid",justifyItems:"center"},children:i.jsxs(W,{horizontalAlign:"center",tokens:{childrenGap:50},style:{paddingTop:"20px"},children:[i.jsxs(W,{horizontal:!0,horizontalAlign:"center",verticalAlign:"center",tokens:{childrenGap:20},children:[i.jsx("img",{src:"/icon/icon48.svg",alt:"BrandIcon",width:36,height:36}),i.jsx(z,{style:{fontSize:"2em"},children:"PhishDetector"})]}),i.jsx(W,{horizontal:!0,horizontalAlign:"center",children:i.jsx(z,{style:{fontSize:"1.5em"},children:`${e?"Phishing Status":"判定結果"} : ${t}`})}),i.jsx(ye,{onClick:L,children:e?"Report this page as phishing":"このページをフィッシングとして報告"}),i.jsxs(W,{horizontalAlign:"center",tokens:{childrenGap:20},children:[i.jsx(z,{style:{fontSize:"1.5em",fontWeight:"bold"},children:" 設定 "}),i.jsx(Be,{checked:r,label:i.jsxs(W,{horizontal:!0,verticalAlign:"center",children:[i.jsx(he,{iconName:"Send",style:{paddingLeft:26,fontSize:20,fontWeight:"bolder"}}),i.jsx(z,{style:{fontSize:"1em",fontWeight:"bolder",paddingLeft:26},children:"検出時の情報を開発者に送信する"})]}),inlineLabel:!0,onText:" ",offText:" ",onChange:async(c,I)=>{await fe(I??!1),o(await K())}}),i.jsx(q,{iconProps:{iconName:"OpenInNewTab"},onClick:async()=>await chrome.runtime.sendMessage({type:"list",listType:"Block"}),children:" Block list "}),i.jsx(q,{iconProps:{iconName:"OpenInNewTab"},onClick:async()=>await chrome.runtime.sendMessage({type:"list",listType:"Allow"}),children:" Allow list "})]}),C&&i.jsx(De,{messageBarType:n.success,isMultiline:!1,onDismiss:()=>f(!1),children:" Thank you for reporting "})]})})})};ke();Se.createRoot(document.getElementById("root")).render(i.jsx(we.StrictMode,{children:i.jsx(ze,{})}));
