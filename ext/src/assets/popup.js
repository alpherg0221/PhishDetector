import{v as ae,ac as ie,r as a,h as te,k as re,ad as oe,_ as d,L as U,K as le,t as ce,s as de,U as $,H as z,ae as D,af as ge,ag as me,ah as ue,X as he,z as fe,a0 as K,a2 as X,a5 as s,a6 as xe,a7 as W,a8 as j,ai as q,aj as ve,ak as pe,a1 as Se,a3 as we,a4 as be,aa as Be,ab as ke}from"../../assets/utils-AyQhqZ9I.js";import{T as J}from"../../assets/Toggle-Bqq82Xo0.js";import{u as ye}from"../../assets/useBoolean-BItsTvPo.js";import{I as Q,i as Le}from"../../assets/index-j0oGRhJb.js";import{P as Ne,D as V}from"../../assets/PrimaryButton-C17a53t5.js";var Ce=function(e){ae(o,e);function o(l){var t=e.call(this,l)||this;return t.state={isRendered:ie()===void 0},t}return o.prototype.componentDidMount=function(){var l=this,t=this.props.delay;this._timeoutId=window.setTimeout(function(){l.setState({isRendered:!0})},t)},o.prototype.componentWillUnmount=function(){this._timeoutId&&clearTimeout(this._timeoutId)},o.prototype.render=function(){return this.state.isRendered?a.Children.only(this.props.children):null},o.defaultProps={delay:0},o}(a.Component),n;(function(e){e[e.info=0]="info",e[e.error=1]="error",e[e.blocked=2]="blocked",e[e.severeWarning=3]="severeWarning",e[e.success=4]="success",e[e.warning=5]="warning"})(n||(n={}));var y,Ie=(y={},y[n.info]="Info",y[n.warning]="Info",y[n.error]="ErrorBadge",y[n.blocked]="Blocked2",y[n.severeWarning]="Warning",y[n.success]="Completed",y),_e="MessageBar",Ae=ce(),Me=function(e){switch(e){case n.blocked:case n.error:case n.severeWarning:return"assertive"}return"polite"},Te=function(e){switch(e){case n.blocked:case n.error:case n.severeWarning:return"alert"}return"status"},Y=a.forwardRef(function(e,o){var l=ye(!1),t=l[0],f=l[1].toggle,S=te("MessageBar"),u=e.actions,w=e.className,b=e.children,_=e.overflowButtonAriaLabel,h=e.dismissIconProps,A=e.styles,r=e.theme,B=e.messageBarType,k=B===void 0?n.info:B,M=e.onDismiss,c=M===void 0?void 0:M,E=e.isMultiline,x=E===void 0?!0:E,g=e.truncated,v=e.dismissButtonAriaLabel,T=e.messageBarIconProps,p=e.role,i=e.delayedRender,R=i===void 0?!0:i,P=e.expandButtonProps,O=e.onExpandButtonToggled,H=O===void 0?void 0:O,Z=a.useCallback(function(){f(),H&&H(!t)},[t,H,f]),ee=re(e,oe,["className","role"]),m=Ae(A,{theme:r,messageBarType:k||n.info,onDismiss:c!==void 0,actions:u!==void 0,truncated:g,isMultiline:x,expandSingleLine:t,className:w}),ne={iconName:t?"DoubleChevronUp":"DoubleChevronDown"},se=u||c?{"aria-describedby":S,role:"region"}:{},F=u?a.createElement("div",{className:m.actions},u):null,G=c?a.createElement(Q,{disabled:!1,className:m.dismissal,onClick:c,iconProps:h||{iconName:"Clear"},title:v,ariaLabel:v}):null;return a.createElement("div",d({ref:o,className:m.root},se),a.createElement("div",{className:m.content},a.createElement("div",{className:m.iconContainer,"aria-hidden":!0},T?a.createElement(U,d({},T,{className:le(m.icon,T.className)})):a.createElement(U,{iconName:Ie[k],className:m.icon})),a.createElement("div",{className:m.text,id:S,role:p||Te(k),"aria-live":Me(k)},a.createElement("span",d({className:m.innerText},ee),R?a.createElement(Ce,null,a.createElement("span",null,b)):a.createElement("span",null,b))),!x&&!F&&g&&a.createElement("div",{className:m.expandSingleLine},a.createElement(Q,d({disabled:!1,className:m.expand,onClick:Z,iconProps:ne,ariaLabel:_,"aria-expanded":t},P))),!x&&F,!x&&G&&a.createElement("div",{className:m.dismissSingleLine},G),x&&G),x&&F)});Y.displayName=_e;var L,N,C,I,We={root:"ms-MessageBar",error:"ms-MessageBar--error",blocked:"ms-MessageBar--blocked",severeWarning:"ms-MessageBar--severeWarning",success:"ms-MessageBar--success",warning:"ms-MessageBar--warning",multiline:"ms-MessageBar-multiline",singleline:"ms-MessageBar-singleline",dismissalSingleLine:"ms-MessageBar-dismissalSingleLine",expandingSingleLine:"ms-MessageBar-expandingSingleLine",content:"ms-MessageBar-content",iconContainer:"ms-MessageBar-icon",text:"ms-MessageBar-text",innerText:"ms-MessageBar-innerText",dismissSingleLine:"ms-MessageBar-dismissSingleLine",expandSingleLine:"ms-MessageBar-expandSingleLine",dismissal:"ms-MessageBar-dismissal",expand:"ms-MessageBar-expand",actions:"ms-MessageBar-actions",actionsSingleline:"ms-MessageBar-actionsSingleLine"},je=(L={},L[n.error]="errorBackground",L[n.blocked]="errorBackground",L[n.success]="successBackground",L[n.warning]="warningBackground",L[n.severeWarning]="severeWarningBackground",L[n.info]="infoBackground",L),Ee=(N={},N[n.error]="errorIcon",N[n.blocked]="errorIcon",N[n.success]="successIcon",N[n.warning]="warningIcon",N[n.severeWarning]="severeWarningIcon",N[n.info]="infoIcon",N),Pe=(C={},C[n.error]="#ff0000",C[n.blocked]="#ff0000",C[n.success]="#bad80a",C[n.warning]="#fff100",C[n.severeWarning]="#ff0000",C[n.info]="WindowText",C),ze=(I={},I[n.error]="#e81123",I[n.blocked]="#e81123",I[n.success]="#107c10",I[n.warning]="#966400",I[n.severeWarning]="#d83b01",I[n.info]="WindowText",I),De=function(e){var o,l,t,f,S,u,w,b,_,h,A,r=e.theme,B=e.className,k=e.onDismiss,M=e.truncated,c=e.isMultiline,E=e.expandSingleLine,x=e.messageBarType,g=x===void 0?n.info:x,v=r.semanticColors,T=r.fonts,p=ue(0,he),i=de(We,r),R={fontSize:$.xSmall,height:10,lineHeight:"10px",color:v.messageText,selectors:(o={},o[z]=d(d({},D()),{color:"WindowText"}),o)},P=[ge(r,{inset:1,highContrastStyle:{outlineOffset:"-6px",outline:"1px solid Highlight"},borderColor:"transparent"}),{flexShrink:0,width:32,height:32,padding:"8px 12px",selectors:{"& .ms-Button-icon":R,":hover":{backgroundColor:"transparent"},":active":{backgroundColor:"transparent"}}}];return{root:[i.root,T.medium,g===n.error&&i.error,g===n.blocked&&i.blocked,g===n.severeWarning&&i.severeWarning,g===n.success&&i.success,g===n.warning&&i.warning,c?i.multiline:i.singleline,!c&&k&&i.dismissalSingleLine,!c&&M&&i.expandingSingleLine,{background:v[je[g]],boxSizing:"border-box",color:v.messageText,minHeight:32,width:"100%",display:"flex",wordBreak:"break-word",selectors:(l={".ms-Link":{color:v.messageLink,selectors:{":hover":{color:v.messageLinkHovered}}}},l[z]=d(d({},D()),{background:"transparent",border:"1px solid ".concat(Pe[g]),color:"WindowText"}),l[me]={border:"1px solid ".concat(ze[g])},l)},c&&{flexDirection:"column"},B],content:[i.content,(t={display:"flex",width:"100%",lineHeight:"normal"},t[p]={display:"grid",gridTemplateColumns:"auto 1fr auto",gridTemplateRows:"1fr auto",gridTemplateAreas:`
            "icon text close"
            "action action action"
          `},t)],iconContainer:[i.iconContainer,(f={fontSize:$.medium,minWidth:16,minHeight:16,display:"flex",flexShrink:0,margin:"8px 0 8px 12px"},f[p]={gridArea:"icon"},f)],icon:{color:v[Ee[g]],selectors:(S={},S[z]=d(d({},D()),{color:"WindowText"}),S)},text:[i.text,d(d({minWidth:0,display:"flex",flexGrow:1,margin:8},T.small),(u={},u[p]={gridArea:"text"},u.selectors=(w={},w[z]=d({},D()),w),u)),!k&&{marginRight:12}],innerText:[i.innerText,{lineHeight:16,selectors:{"& span a:last-child":{paddingLeft:4}}},M&&{overflow:"visible",whiteSpace:"pre-wrap"},!c&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},!c&&!M&&{selectors:(b={},b[p]={overflow:"visible",whiteSpace:"pre-wrap"},b)},E&&{overflow:"visible",whiteSpace:"pre-wrap"}],dismissSingleLine:[i.dismissSingleLine,(_={},_[p]={gridArea:"close"},_)],expandSingleLine:i.expandSingleLine,dismissal:[i.dismissal,P],expand:[i.expand,P],actions:[c?i.actions:i.actionsSingleline,(h={display:"flex",flexGrow:0,flexShrink:0,flexBasis:"auto",flexDirection:"row-reverse",alignItems:"center",margin:"0 12px 0 8px",forcedColorAdjust:"auto",MsHighContrastAdjust:"auto"},h[p]={gridArea:"action",marginRight:8,marginBottom:8},h.selectors={"& button:nth-child(n+2)":(A={marginLeft:8},A[p]={marginBottom:0},A)},h),c&&{marginBottom:8},k&&!c&&{marginRight:0}]}},Re=fe(Y,De,void 0,{scope:"MessageBar"});const He=()=>{const e=window.navigator.language==="en",[o,l]=a.useState(!1),[t,f]=a.useState(!1),[S,u]=a.useState(""),[w,b]=a.useState({}),[_,h]=a.useState(!1),A=async()=>{await Se("FN",w),await we(be.Block,w.url),h(!0)};return a.useEffect(()=>{K().then(r=>l(r)),X().then(r=>f(r)),chrome.runtime.sendMessage({type:"detection"}).then(r=>{u(r.resFlag),b(r)})},[]),s.jsx(s.Fragment,{children:s.jsx(xe,{style:{minHeight:"100vh",display:"grid",justifyItems:"center"},children:s.jsxs(W,{horizontalAlign:"center",tokens:{childrenGap:50},style:{paddingTop:"20px"},children:[s.jsxs(W,{horizontal:!0,horizontalAlign:"center",verticalAlign:"center",tokens:{childrenGap:20},children:[s.jsx("img",{src:"/icon/icon48.svg",alt:"BrandIcon",width:36,height:36}),s.jsx(j,{style:{fontSize:"2em"},children:"PhishDetector"})]}),s.jsx(W,{horizontal:!0,horizontalAlign:"center",children:s.jsx(j,{style:{fontSize:"1.5em"},children:`${e?"Phishing Status":"判定結果"} : ${S}`})}),s.jsx(Ne,{onClick:A,children:e?"Report this page as phishing":"このページをフィッシングとして報告"}),s.jsxs(W,{horizontalAlign:"center",tokens:{childrenGap:20},children:[s.jsx(j,{style:{fontSize:"1.5em",fontWeight:"bold"},children:" 設定 "}),s.jsx(J,{checked:o,label:s.jsxs(W,{horizontal:!0,verticalAlign:"center",children:[s.jsx(q,{iconName:"Send",style:{paddingLeft:26,fontSize:20,fontWeight:"bolder"}}),s.jsx(j,{style:{fontSize:"1em",fontWeight:"bolder",paddingLeft:26},children:"検出時の情報を開発者に送信する"})]}),inlineLabel:!0,onText:" ",offText:" ",onChange:async(r,B)=>{await ve(B??!1),l(await K())}}),s.jsx(J,{checked:t,label:s.jsxs(W,{horizontal:!0,verticalAlign:"center",children:[s.jsx(q,{iconName:"CheckList",style:{paddingLeft:26,fontSize:20,fontWeight:"bolder"}}),s.jsx(j,{style:{fontSize:"1em",fontWeight:"bolder",paddingLeft:26},children:"Allow listを使用する"})]}),inlineLabel:!0,onText:" ",offText:" ",onChange:async(r,B)=>{await pe(B??!1),f(await X())}}),s.jsx(V,{iconProps:{iconName:"OpenInNewTab"},onClick:async()=>await chrome.runtime.sendMessage({type:"list",listType:"Block"}),children:" Block list "}),s.jsx(V,{iconProps:{iconName:"OpenInNewTab"},onClick:async()=>await chrome.runtime.sendMessage({type:"list",listType:"Allow"}),children:" Allow list "})]}),_&&s.jsx(Re,{messageBarType:n.success,isMultiline:!1,onDismiss:()=>h(!1),children:" Thank you for reporting "})]})})})};Le();Be.createRoot(document.getElementById("root")).render(s.jsx(ke.StrictMode,{children:s.jsx(He,{})}));
