import{e as ee,p as ne,r as s,b as se,q as ie,_ as d,i as ae,c as te,I as $,l as a,T as re,S as W,n as P,o as oe,R as le}from"../../assets/ThemeProvider-C4nHbI1i.js";import{e as ce,I as U,k as de,H as R,K as z,M as ge,N as me,O as ue,x as he,s as fe,z as q,G as xe,Q as ve,T as pe,F as K,B as Se,C as we}from"../../assets/utils-BBKhAb6Z.js";import{T as Be}from"../../assets/Toggle-uyNDg7qV.js";import{u as be,I as Q,i as ke}from"../../assets/index-Cl65RRIe.js";var ye=function(e){ee(r,e);function r(o){var t=e.call(this,o)||this;return t.state={isRendered:ne()===void 0},t}return r.prototype.componentDidMount=function(){var o=this,t=this.props.delay;this._timeoutId=window.setTimeout(function(){o.setState({isRendered:!0})},t)},r.prototype.componentWillUnmount=function(){this._timeoutId&&clearTimeout(this._timeoutId)},r.prototype.render=function(){return this.state.isRendered?s.Children.only(this.props.children):null},r.defaultProps={delay:0},r}(s.Component),n;(function(e){e[e.info=0]="info",e[e.error=1]="error",e[e.blocked=2]="blocked",e[e.severeWarning=3]="severeWarning",e[e.success=4]="success",e[e.warning=5]="warning"})(n||(n={}));var B,Ne=(B={},B[n.info]="Info",B[n.warning]="Info",B[n.error]="ErrorBadge",B[n.blocked]="Blocked2",B[n.severeWarning]="Warning",B[n.success]="Completed",B),Ce="MessageBar",Ie=de(),Le=function(e){switch(e){case n.blocked:case n.error:case n.severeWarning:return"assertive"}return"polite"},_e=function(e){switch(e){case n.blocked:case n.error:case n.severeWarning:return"alert"}return"status"},J=s.forwardRef(function(e,r){var o=be(!1),t=o[0],S=o[1].toggle,h=ce("MessageBar"),u=e.actions,C=e.className,f=e.children,I=e.overflowButtonAriaLabel,c=e.dismissIconProps,L=e.styles,_=e.theme,E=e.messageBarType,w=E===void 0?n.info:E,M=e.onDismiss,l=M===void 0?void 0:M,j=e.isMultiline,x=j===void 0?!0:j,g=e.truncated,v=e.dismissButtonAriaLabel,T=e.messageBarIconProps,p=e.role,i=e.delayedRender,D=i===void 0?!0:i,A=e.expandButtonProps,O=e.onExpandButtonToggled,H=O===void 0?void 0:O,V=s.useCallback(function(){S(),H&&H(!t)},[t,H,S]),X=se(e,ie,["className","role"]),m=Ie(L,{theme:_,messageBarType:w||n.info,onDismiss:l!==void 0,actions:u!==void 0,truncated:g,isMultiline:x,expandSingleLine:t,className:C}),Y={iconName:t?"DoubleChevronUp":"DoubleChevronDown"},Z=u||l?{"aria-describedby":h,role:"region"}:{},F=u?s.createElement("div",{className:m.actions},u):null,G=l?s.createElement(Q,{disabled:!1,className:m.dismissal,onClick:l,iconProps:c||{iconName:"Clear"},title:v,ariaLabel:v}):null;return s.createElement("div",d({ref:r,className:m.root},Z),s.createElement("div",{className:m.content},s.createElement("div",{className:m.iconContainer,"aria-hidden":!0},T?s.createElement(U,d({},T,{className:ae(m.icon,T.className)})):s.createElement(U,{iconName:Ne[w],className:m.icon})),s.createElement("div",{className:m.text,id:h,role:p||_e(w),"aria-live":Le(w)},s.createElement("span",d({className:m.innerText},X),D?s.createElement(ye,null,s.createElement("span",null,f)):s.createElement("span",null,f))),!x&&!F&&g&&s.createElement("div",{className:m.expandSingleLine},s.createElement(Q,d({disabled:!1,className:m.expand,onClick:V,iconProps:Y,ariaLabel:I,"aria-expanded":t},A))),!x&&F,!x&&G&&s.createElement("div",{className:m.dismissSingleLine},G),x&&G),x&&F)});J.displayName=Ce;var b,k,y,N,Me={root:"ms-MessageBar",error:"ms-MessageBar--error",blocked:"ms-MessageBar--blocked",severeWarning:"ms-MessageBar--severeWarning",success:"ms-MessageBar--success",warning:"ms-MessageBar--warning",multiline:"ms-MessageBar-multiline",singleline:"ms-MessageBar-singleline",dismissalSingleLine:"ms-MessageBar-dismissalSingleLine",expandingSingleLine:"ms-MessageBar-expandingSingleLine",content:"ms-MessageBar-content",iconContainer:"ms-MessageBar-icon",text:"ms-MessageBar-text",innerText:"ms-MessageBar-innerText",dismissSingleLine:"ms-MessageBar-dismissSingleLine",expandSingleLine:"ms-MessageBar-expandSingleLine",dismissal:"ms-MessageBar-dismissal",expand:"ms-MessageBar-expand",actions:"ms-MessageBar-actions",actionsSingleline:"ms-MessageBar-actionsSingleLine"},Te=(b={},b[n.error]="errorBackground",b[n.blocked]="errorBackground",b[n.success]="successBackground",b[n.warning]="warningBackground",b[n.severeWarning]="severeWarningBackground",b[n.info]="infoBackground",b),We=(k={},k[n.error]="errorIcon",k[n.blocked]="errorIcon",k[n.success]="successIcon",k[n.warning]="warningIcon",k[n.severeWarning]="severeWarningIcon",k[n.info]="infoIcon",k),Ee=(y={},y[n.error]="#ff0000",y[n.blocked]="#ff0000",y[n.success]="#bad80a",y[n.warning]="#fff100",y[n.severeWarning]="#ff0000",y[n.info]="WindowText",y),je=(N={},N[n.error]="#e81123",N[n.blocked]="#e81123",N[n.success]="#107c10",N[n.warning]="#966400",N[n.severeWarning]="#d83b01",N[n.info]="WindowText",N),Ae=function(e){var r,o,t,S,h,u,C,f,I,c,L,_=e.theme,E=e.className,w=e.onDismiss,M=e.truncated,l=e.isMultiline,j=e.expandSingleLine,x=e.messageBarType,g=x===void 0?n.info:x,v=_.semanticColors,T=_.fonts,p=ue(0,he),i=te(Me,_),D={fontSize:$.xSmall,height:10,lineHeight:"10px",color:v.messageText,selectors:(r={},r[R]=d(d({},z()),{color:"WindowText"}),r)},A=[ge(_,{inset:1,highContrastStyle:{outlineOffset:"-6px",outline:"1px solid Highlight"},borderColor:"transparent"}),{flexShrink:0,width:32,height:32,padding:"8px 12px",selectors:{"& .ms-Button-icon":D,":hover":{backgroundColor:"transparent"},":active":{backgroundColor:"transparent"}}}];return{root:[i.root,T.medium,g===n.error&&i.error,g===n.blocked&&i.blocked,g===n.severeWarning&&i.severeWarning,g===n.success&&i.success,g===n.warning&&i.warning,l?i.multiline:i.singleline,!l&&w&&i.dismissalSingleLine,!l&&M&&i.expandingSingleLine,{background:v[Te[g]],boxSizing:"border-box",color:v.messageText,minHeight:32,width:"100%",display:"flex",wordBreak:"break-word",selectors:(o={".ms-Link":{color:v.messageLink,selectors:{":hover":{color:v.messageLinkHovered}}}},o[R]=d(d({},z()),{background:"transparent",border:"1px solid ".concat(Ee[g]),color:"WindowText"}),o[me]={border:"1px solid ".concat(je[g])},o)},l&&{flexDirection:"column"},E],content:[i.content,(t={display:"flex",width:"100%",lineHeight:"normal"},t[p]={display:"grid",gridTemplateColumns:"auto 1fr auto",gridTemplateRows:"1fr auto",gridTemplateAreas:`
            "icon text close"
            "action action action"
          `},t)],iconContainer:[i.iconContainer,(S={fontSize:$.medium,minWidth:16,minHeight:16,display:"flex",flexShrink:0,margin:"8px 0 8px 12px"},S[p]={gridArea:"icon"},S)],icon:{color:v[We[g]],selectors:(h={},h[R]=d(d({},z()),{color:"WindowText"}),h)},text:[i.text,d(d({minWidth:0,display:"flex",flexGrow:1,margin:8},T.small),(u={},u[p]={gridArea:"text"},u.selectors=(C={},C[R]=d({},z()),C),u)),!w&&{marginRight:12}],innerText:[i.innerText,{lineHeight:16,selectors:{"& span a:last-child":{paddingLeft:4}}},M&&{overflow:"visible",whiteSpace:"pre-wrap"},!l&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},!l&&!M&&{selectors:(f={},f[p]={overflow:"visible",whiteSpace:"pre-wrap"},f)},j&&{overflow:"visible",whiteSpace:"pre-wrap"}],dismissSingleLine:[i.dismissSingleLine,(I={},I[p]={gridArea:"close"},I)],expandSingleLine:i.expandSingleLine,dismissal:[i.dismissal,A],expand:[i.expand,A],actions:[l?i.actions:i.actionsSingleline,(c={display:"flex",flexGrow:0,flexShrink:0,flexBasis:"auto",flexDirection:"row-reverse",alignItems:"center",margin:"0 12px 0 8px",forcedColorAdjust:"auto",MsHighContrastAdjust:"auto"},c[p]={gridArea:"action",marginRight:8,marginBottom:8},c.selectors={"& button:nth-child(n+2)":(L={marginLeft:8},L[p]={marginBottom:0},L)},c),l&&{marginBottom:8},w&&!l&&{marginRight:0}]}},Pe=fe(J,Ae,void 0,{scope:"MessageBar"});const Re=()=>{const e=window.navigator.language==="en",[r,o]=s.useState(!1),[t,S]=s.useState(""),[h,u]=s.useState({}),[C,f]=s.useState(!1),I=async()=>{await Se("FN",h),await we("Block",h.url),f(!0)};return s.useEffect(()=>{q().then(c=>o(c)),chrome.runtime.sendMessage({type:"detection"}).then(c=>{S(c.resFlag),u(c)})},[]),a.jsx(a.Fragment,{children:a.jsx(re,{style:{minHeight:"100vh",display:"grid",justifyItems:"center"},children:a.jsxs(W,{horizontalAlign:"center",tokens:{childrenGap:50},style:{paddingTop:"20px"},children:[a.jsxs(W,{horizontal:!0,horizontalAlign:"center",verticalAlign:"center",tokens:{childrenGap:20},children:[a.jsx("img",{src:"/icon/icon48.svg",alt:"BrandIcon",width:36,height:36}),a.jsx(P,{style:{fontSize:"2em"},children:"PhishDetector"})]}),a.jsx(W,{horizontal:!0,horizontalAlign:"center",children:a.jsx(P,{style:{fontSize:"1.5em"},children:`${e?"Phishing Status":"判定結果"} : ${t}`})}),a.jsx(xe,{onClick:I,children:e?"Report this page as phishing":"このページをフィッシングとして報告"}),a.jsxs(W,{horizontalAlign:"center",tokens:{childrenGap:20},children:[a.jsx(P,{style:{fontSize:"1.5em",fontWeight:"bold"},children:" 設定 "}),a.jsx(Be,{checked:r,label:a.jsxs(W,{horizontal:!0,verticalAlign:"center",children:[a.jsx(ve,{iconName:"Send",style:{paddingLeft:26,fontSize:20,fontWeight:"bolder"}}),a.jsx(P,{style:{fontSize:"1em",fontWeight:"bolder",paddingLeft:26},children:"検出時の情報を開発者に送信する"})]}),inlineLabel:!0,onText:" ",offText:" ",onChange:async(c,L)=>{await pe(L??!1),o(await q())}}),a.jsx(K,{iconProps:{iconName:"OpenInNewTab"},onClick:async()=>await chrome.runtime.sendMessage({type:"list",listType:"Block"}),children:" Block list "}),a.jsx(K,{iconProps:{iconName:"OpenInNewTab"},onClick:async()=>await chrome.runtime.sendMessage({type:"list",listType:"Allow"}),children:" Allow list "})]}),C&&a.jsx(Pe,{messageBarType:n.success,isMultiline:!1,onDismiss:()=>f(!1),children:" Thank you for reporting "})]})})})};ke();oe.createRoot(document.getElementById("root")).render(a.jsx(le.StrictMode,{children:a.jsx(Re,{})}));
